<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Octave package for Queueing Networks and Markov chains analysis: ctmc</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
    <script type="text/javascript" async
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
    </script>
    <style>
    var {
      font-style: italics;
      font-weight: bold;
    }
    td {
      vertical-align: top;
    }
    </style>
  </head>
  <body>
    <div class="bg-dark">
      <div class="container-xl">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
          <div class="container-fluid">
            <a class="navbar-brand" href=index.html>
              <img src="assets/queueing.png" alt="queueing" class="d-inline-block align-top" width="25" height="25">
              Octave package for Queueing Networks and Markov chains analysis
            </a>
            <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="nav-link" href="index.html#Continuous-time Markov chains">
                    <i class="fas fa-list-alt"></i>
                    Continuous-time Markov chains
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="https://gnu-octave.github.io/packages/">
                  <img src="assets/octave-logo.svg" alt="GNU Octave logo" class="d-inline-block align-top" width="25" height="25">
                    Octave Packages
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="https://www.octave.org">
                    <i class="fas fa-home"></i>
                    GNU Octave website
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </div>
    <div class="container-xl my-4">
      <div class="card rounded">
        <div class="card-header card-header-mod">
          <div class="row d-flex flex-wrap align-items-center">
            <div class="col-sm-3 col-md-5 mb-2 mb-sm-0">
              <h3 class="d-inline-block mr-2">
              Function&nbsp;Reference: <b><code>ctmc</code></b>
              </h3>
            </div>
          </div>
        </div>
        <div class="card-body">
<dl>
<dt><u>Function File:</u> <var>p</var> = <b>ctmc</b><i> (<var>Q</var>)</i></dt>
<dt><u>Function File:</u> <var>p</var> = <b>ctmc</b><i> (<var>Q</var>, <var>t</var>, <var>p0</var>)</i></dt>
</dl>

 <a name="index-Markov-chain_002c-continuous-time"></a>
 <a name="index-continuous-time-Markov-chain"></a>
 <a name="index-Markov-chain_002c-state-occupancy-probabilities"></a>
 <a name="index-stationary-probabilities"></a>
 <a name="index-CTMC"></a>

<p> Compute stationary or transient state occupancy probabilities for a continuous-time Markov chain.
</p>
<div class="ms-5">
<p> With a single argument, compute the stationary state occupancy
 probabilities <math><var>p</var>(1), &hellip;, <var>p</var>(N)</math> for a
 continuous-time Markov chain with finite state space <math>1, &hellip;,
 N</math> and <math>N \times N</math> infinitesimal generator matrix <var>Q</var>.
 With three arguments, compute the state occupancy probabilities
 <math><var>p</var>(1), &hellip;, <var>p</var>(N)</math> that the system is in state <math>i</math>
 at time <var>t</var>, given initial state occupancy probabilities
 <math><var>p0</var>(1), &hellip;, <var>p0</var>(N)</math> at time 0.
</p>
<p> <strong>INPUTS</strong>
</p>
 <dl compact="compact">
<dt> <code><var>Q</var>(i,j)</code></dt>
</dl>
<p> Infinitesimal generator matrix. <var>Q</var> is a <math>N \times N</math> square
 matrix where <code><var>Q</var>(i,j)</code> is the transition rate from state
 <math>i</math> to state <math>j</math>, for <math>1 &le; i \neq j &le; N</math>.
 <var>Q</var> must satisfy the property that <math>\sum_j=1^N Q_i, j =
 0</math>
</p>
 </dd>
<dt> <code><var>t</var></code></dt>
</dl>
<p> Time at which to compute the transient probability (<math>t &ge;
 0</math>). If omitted, the function computes the steady state occupancy
 probability vector.
</p>
 </dd>
<dt> <code><var>p0</var>(i)</code></dt>
</dl>
<p> probability that the system is in state <math>i</math> at time 0.
</p>
</dd>
</dl>

<p> <strong>OUTPUTS</strong>
</p>
 <dl compact="compact">
<dt> <code><var>p</var>(i)</code></dt>
</dl>
<p> If this function is invoked with a single argument, <code><var>p</var>(i)</code>
 is the steady-state probability that the system is in state <math>i</math>,
 <math>i = 1, &hellip;, N</math>. If this function is invoked with three
 arguments, <code><var>p</var>(i)</code> is the probability that the system is in
 state <math>i</math> at time <var>t</var>, given the initial occupancy
 probabilities <var>p0</var>(1), &hellip;, <var>p0</var>(N).
</p>
</dd>
</dl>

<p> <strong>See also: </strong>
  <a href="dtmc.html">dtmc</a>
</p>
</div>
        <div class="container-xl my-4">
          <div class="card rounded">
            <div class="card-header card-header-mod">
              <div class="row d-flex flex-wrap align-items-center">
                <div class="col-sm-3 col-md-5 mb-2 mb-sm-0">
                  <h3 class="d-inline-block mr-2">
                  Example: 1
                  </h3>
                </div>
              </div>
            </div>
            <div class="card-body">
              <div class="container bg-light">
                <div class="row">
                  <table><tbody><tr>
                    <td>&nbsp;</td>
                    <td><pre class="example">

 Q = [ -1  1; ...
        1 -1  ];
 q = ctmc(Q)

q =

   0.5000   0.5000

                    </pre></td></tr></tbody>
                  </table>

                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="container-xl my-4">
          <div class="card rounded">
            <div class="card-header card-header-mod">
              <div class="row d-flex flex-wrap align-items-center">
                <div class="col-sm-3 col-md-5 mb-2 mb-sm-0">
                  <h3 class="d-inline-block mr-2">
                  Example: 2
                  </h3>
                </div>
              </div>
            </div>
            <div class="card-body">
              <div class="container bg-light">
                <div class="row">
                  <table><tbody><tr>
                    <td>&nbsp;</td>
                    <td><pre class="example">

 a = 0.2;
 b = 0.15;
 Q = [ -a a; b -b];
 T = linspace(0,14,50);
 pp = zeros(2,length(T));
 for i=1:length(T)
   pp(:,i) = ctmc(Q,T(i),[1 0]);
 endfor
 ss = ctmc(Q); # compute steady state probabilities
 plot( T, pp(1,:), "b;p_0(t);", "linewidth", 2, ...
       T, ss(1)*ones(size(T)), "b;Steady State;", ...
       T, pp(2,:), "r;p_1(t);", "linewidth", 2, ...
       T, ss(2)*ones(size(T)), "r;Steady State;" );
 xlabel("Time");
 legend("boxoff");

                    </pre></td></tr></tbody>
                  </table>
                  <div class="text-center">
                    <img src="assets/ctmc_201.png" class="rounded img-thumbnail" alt="plotted figure">
                  </div><p></p>

                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="container-xl my-4">
          <div class="card rounded">
            <div class="card-header card-header-mod">
              <div class="row d-flex flex-wrap align-items-center">
                <div class="col-sm-3 col-md-5 mb-2 mb-sm-0">
                  <h3 class="d-inline-block mr-2">
                  Example: 3
                  </h3>
                </div>
              </div>
            </div>
            <div class="card-body">
              <div class="container bg-light">
                <div class="row">
                  <table><tbody><tr>
                    <td>&nbsp;</td>
                    <td><pre class="example">

 ##
 ## The code below is used in the paper: "M. Marzolla,
 ## "A GNU Octave package for Queueing Networks and Markov Chains analysis"
 ## (submitted to the ACM Transactions on Mathematical Software)
 ## to analyze the reliability model from Figure 2. The model
 ## has been originally described in the paper:
 ##
 ## David I. Heimann, Nitin Mittal, Kishor S. Trivedi, "Availability
 ## and Reliability Modeling for Computer Systems",
 ## Marshall C. Yovits (Ed.), Advances in Computers, Elsevier, Volume 31,
 ## 1990, Pages 175-233, ISSN 0065-2458, ISBN 9780120121311, DOI
 ## https://doi.org/10.1016/S0065-2458(08)60154-0. sep 1989, section
 ## 2.5.

 mm = 60; hh = 60*mm; dd = 24*hh; yy = 365*dd;
 a = 1/(10*mm);    # 1/a = duration of reboot (10 min)
 b = 1/30;         # 1/b = reconfiguration time (30 sec)
 g = 1/(5000*hh);  # 1/g = processor MTTF (5000 h)
 d = 1/(4*hh);     # 1/d = processor MTTR (4 h)
 c = 0.9;          # recovery probability
 [TWO,RC,RB,ONE,ZERO] = deal(1,2,3,4,5);
 ##      2    RC      RB        1     0
 Q = [ -2*g  2*c*g 2*(1-c)*g    0     0; ...  # 2
         0    -b       0        b     0; ...  # RC
         0     0      -a        a     0; ...  # RB
         d     0       0     -(g+d)   g; ...  # 1
         0     0       0        d    -d];     # 0
 p = ctmc(Q);

 disp("minutes/year spent in RC");
 p(RC)*yy/mm  # minutes/year spent in RC
 disp("minutes/year spent in RB");
 p(RB)*yy/mm  # minutes/year spent in RB
 disp("minutes/year spent in 0");
 p(ZERO)*yy/mm  # minutes/year spent in 0

 Q(ZERO,:) = Q(RB,:) = 0; # make states {0, RB} absorbing
 p0 = [ 1 0 0 0 0 ] ; # initial state occupancy probabiliies
 disp("MTBF (years)");
 MTBF = ctmcmtta(Q, p0) / yy # MTBF (years)

minutes/year spent in RC
ans = 1.5743
minutes/year spent in RB
ans = 3.4984
minutes/year spent in 0
ans = 0.6717
MTBF (years)
MTBF = 2.8376
                    </pre></td></tr></tbody>
                  </table>

                </div>
              </div>
            </div>
          </div>
        </div>


        </div>
      </div>
    </div>

  </body>
</html>
